<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link rel="stylesheet" href="./style/custom.css" />
        <link rel="icon" type="image/x-icon" href="./assets/favicon.ico" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Portf√®lio</title>
    </head>
    <body>
        <!-- Loading screen with typing effect -->
        <div class="loader">
            <div class="typing-container">
                <h1 class="typing-text"></h1>
            </div>
        </div>

        <img
            class="image-gradient"
            src="assets/Gradient from 3D Startup App.png"
            alt="Gradient"
        />
        <div class="layer-blur"></div>
        <div class="container">
            <header>
                <h1 class="logo">Portf√®lio</h1>

                <nav>
                    <a href="#">company</a>
                    <a href="#">features</a>
                    <a href="#">resources</a>
                    <a href="#">docs</a>
                </nav>
                <button class="btn-signing">signing</button>
            </header>

            <main>
                <div class="content">
                    <!-- <div class="tag-box">
                        <div class="tag">intrucing &wedbar;</div>
                    </div> -->

                    <h1>
                        Narendra<br />
                        Samtani
                    </h1>
                    <p class="discription">
                        I'm a chill-minded developer who vibes with clean code,
                        bold ideas, and late-night debugging sessions. I don't
                        just build websites ‚Äî I craft digital experiences that
                        feel smooth, smart, and alive.
                    </p>
                    <div class="buttons">
                        <div class="tag-box">
                            <div class="tag">intrucing &wedbar;</div>
                        </div>
                        <!-- <a href="#" class="btn-get-started"
                            >documentation &gt;</a
                        > -->
                        <!-- <a href="#" class="btn-signing-main">getstart &gt;</a> -->
                    </div>
                </div>
            </main>
            <spline-viewer
                class="robot-3d"
                url="https://prod.spline.design/CwijbN56EKGHUetz/scene.splinecode"
            ></spline-viewer>
            <!-- Add buttons somewhere in the corner (e.g., top-right) -->
            <button id="sound-toggle">üîä Stop</button>
        </div>
        <script
            type="module"
            src="https://unpkg.com/@splinetool/viewer@1.9.96/build/spline-viewer.js"
        ></script>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const textElement = document.querySelector(".typing-text");
                const typingContainer =
                    document.querySelector(".typing-container");
                const loader = document.querySelector(".loader");
                const mainBody = document.querySelector("body");
                const mainContent = document.querySelector(".container");

                // Hide main content initially while keeping loader visible
                mainContent.style.display = "none";

                // The text to be typed
                const textToType = "Welcome to my Portf√®lio...";
                let charIndex = 0;

                // Function for typing effect
                function typeText() {
                    if (charIndex < textToType.length) {
                        textElement.textContent += textToType.charAt(charIndex);
                        charIndex++;
                        setTimeout(typeText, 100); // Adjust speed of typing here
                    } else {
                        // Highlight the word "Portf√®lio" by adding a span around it
                        const highlightedText = textElement.textContent.replace(
                            "Portf√®lio",
                            '<span class="highlight">Portf√®lio</span>'
                        );
                        textElement.innerHTML = highlightedText;

                        // When typing is complete, start the zoom effect after a pause
                        setTimeout(zoomAndTransition, 800);
                    }
                }

                // Function for zoom and transition effects
                function zoomAndTransition() {
                    // Start zoom effect - more subtle and natural
                    typingContainer.style.transform = "scale(8)";
                    typingContainer.style.opacity = "0.6";

                    // Fade out the loader more gradually
                    setTimeout(() => {
                        loader.style.opacity = "0";

                        // Show the main content
                        setTimeout(() => {
                            // Show the main content
                            mainContent.style.display = "block";

                            // Remove the loader after transition completes
                            setTimeout(() => {
                                loader.style.display = "none";
                            }, 500);
                        }, 800);
                    }, 1200);
                }

                // Start the typing effect
                setTimeout(typeText, 500);
            });

            // sound on the site..
            const lofibackground = new Audio("sound/Lofi Background Music.mp3");
            lofibackground.loop = true;

            const soundToggle = document.getElementById("sound-toggle");

            // Try to autoplay
            window.addEventListener("load", () => {
                lofibackground
                    .play()
                    .then(() => {
                        console.log("Autoplay succeeded");
                        soundToggle.textContent = "üîä Stop";
                        soundToggle.style.display = "block";
                    })
                    .catch((err) => {
                        console.warn(
                            "Autoplay failed, waiting for user interaction"
                        );
                        soundToggle.textContent = "‚ñ∂Ô∏è Play";
                        soundToggle.style.display = "block";
                    });
            });

            // Toggle button
            soundToggle.addEventListener("click", () => {
                if (lofibackground.paused) {
                    lofibackground.play();
                    soundToggle.textContent = "üîä Stop";
                } else {
                    lofibackground.pause();
                    soundToggle.textContent = "‚ñ∂Ô∏è Play";
                }
            });
        </script>
    </body>
</html>
